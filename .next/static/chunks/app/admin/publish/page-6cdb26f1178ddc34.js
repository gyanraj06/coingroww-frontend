(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[497],{3477:function(e,t,i){Promise.resolve().then(i.bind(i,6978))},6978:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return a}});var s=i(3827),r=i(4090);let l=(0,i(7688).eI)("https://tnzjanluwfnvatipplpp.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRuemphbmx1d2ZudmF0aXBwbHBwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4MDc0NzEsImV4cCI6MjA4NDM4MzQ3MX0.LUONR_PsrD5BmlO9b5j6120l0ffOdm_dEVWB189SRq4");var n=i(7907);function a(){let e=(0,n.useRouter)(),[t,i]=(0,r.useState)(!1),[a,c]=(0,r.useState)({title:"",content:"",excerpt:"",category:"Bitcoin",image_url:"",is_featured:!1,is_editor_pick:!1}),o=async t=>{t.preventDefault(),i(!0);try{let{error:t}=await l.from("posts").insert([{title:a.title,content:a.content,excerpt:a.excerpt,category:a.category,image_url:a.image_url,is_featured:a.is_featured,is_editor_pick:a.is_editor_pick,slug:a.title.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")+"-"+Date.now().toString().slice(-4)}]);if(t)throw t;alert("Post published successfully!"),c({title:"",content:"",excerpt:"",category:"Bitcoin",image_url:"",is_featured:!1,is_editor_pick:!1}),e.refresh()}catch(e){alert("Error publishing post: "+e.message)}finally{i(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto space-y-8",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-blue-500",children:"Publish Article"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Create a new post for CoinGroww."})]}),(0,s.jsxs)("form",{onSubmit:o,className:"space-y-6 border border-border rounded-lg p-6 bg-card/50",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),(0,s.jsx)("input",{id:"title",required:!0,type:"text",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:"Enter article title",value:a.title,onChange:e=>c({...a,title:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"image_url",className:"text-sm font-medium",children:"Image URL (Unsplash)"}),(0,s.jsx)("input",{id:"image_url",type:"text",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:"https://images.unsplash.com/...",value:a.image_url,onChange:e=>c({...a,image_url:e.target.value})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"category",className:"text-sm font-medium",children:"Category"}),(0,s.jsx)("select",{id:"category",className:"w-full h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:a.category,onChange:e=>c({...a,category:e.target.value}),children:["Bitcoin","Ethereum","Altcoins","DeFi","NFTs","Regulation"].map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 pt-8",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{id:"featured",type:"checkbox",checked:a.is_featured,onChange:e=>c({...a,is_featured:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"featured",className:"text-sm font-medium",children:"Featured (Hero)"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{id:"editor_pick",type:"checkbox",checked:a.is_editor_pick,onChange:e=>c({...a,is_editor_pick:e.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,s.jsx)("label",{htmlFor:"editor_pick",className:"text-sm font-medium",children:"Editor's Pick"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"excerpt",className:"text-sm font-medium",children:"Excerpt"}),(0,s.jsx)("textarea",{id:"excerpt",required:!0,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:"Short summary...",value:a.excerpt,onChange:e=>c({...a,excerpt:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"content",className:"text-sm font-medium",children:"Content"}),(0,s.jsx)("textarea",{id:"content",required:!0,className:"flex min-h-[200px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:"Write your article content here...",value:a.content,onChange:e=>c({...a,content:e.target.value})})]}),(0,s.jsx)("button",{type:"submit",disabled:t,className:"inline-flex h-10 items-center justify-center rounded-md bg-blue-600 px-8 text-sm font-medium text-white shadow transition-colors hover:bg-blue-700 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",children:t?"Publishing...":"Publish Article"})]})]})}}},function(e){e.O(0,[436,971,69,744],function(){return e(e.s=3477)}),_N_E=e.O()}]);